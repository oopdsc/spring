/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.widget.rotator.Pan"]){dojo._hasResource["dojox.widget.rotator.Pan"]=true;dojo.provide("dojox.widget.rotator.Pan");dojo.require("dojo.fx");(function(d){var _1=0,_2=1,UP=2,_3=3;function _pan(_4,_5){var n=_5.next.node,r=_5.rotatorBox,m=_4%2,a=m?"left":"top",s=(m?r.w:r.h)*(_4<2?-1:1),p={},q={};d.style(n,"display","");p[a]={start:0,end:-s};q[a]={start:s,end:0};return d.fx.combine([d.animateProperty({node:_5.current.node,duration:_5.duration,properties:p,easing:_5.easing}),d.animateProperty({node:n,duration:_5.duration,properties:q,easing:_5.easing})]);};function _setZindex(n,z){d.style(n,"zIndex",z);};d.mixin(dojox.widget.rotator,{pan:function $DA4U_(_6){var w=_6.wrap,p=_6.rotator.panes,_7=p.length,z=_7,j=_6.current.idx,k=_6.next.idx,nw=Math.abs(k-j),ww=Math.abs((_7-Math.max(j,k))+Math.min(j,k))%_7,_8=j<k,_9=_3,_a=[],_b=[],_c=_6.duration;if((!w&&!_8)||(w&&(_8&&nw>ww||!_8&&nw<ww))){_9=_2;}if(_6.continuous){if(_6.quick){_c=Math.round(_c/(w?Math.min(ww,nw):nw));}_setZindex(p[j].node,z--);var f=(_9==_3);while(1){var i=j;if(f){if(++j>=_7){j=0;}}else{if(--j<0){j=_7-1;}}var x=p[i],y=p[j];_setZindex(y.node,z--);_a.push(_pan(_9,d.mixin({easing:function $DA4V_(m){return m;}},_6,{current:x,next:y,duration:_c})));if((f&&j==k)||(!f&&j==k)){break;}_b.push(y.node);}var _d=d.fx.chain(_a),h=d.connect(_d,"onEnd",function(){d.disconnect(h);d.forEach(_b,function(q){d.style(q,{display:"none",left:0,opacity:1,top:0,zIndex:0});});});return _d;}return _pan(_9,_6);},panDown:function $DA4W_(_e){return _pan(_1,_e);},panRight:function $DA4X_(_f){return _pan(_2,_f);},panUp:function $DA4Y_(_10){return _pan(UP,_10);},panLeft:function $DA4Z_(_11){return _pan(_3,_11);}});})(dojo);}