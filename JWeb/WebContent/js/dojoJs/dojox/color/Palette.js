/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.color.Palette"]){dojo._hasResource["dojox.color.Palette"]=true;dojo.provide("dojox.color.Palette");dojo.require("dojox.color");(function(){var _1=dojox.color;_1.Palette=function $Dgt_(_2){this.colors=[];if(_2 instanceof dojox.color.Palette){this.colors=_2.colors.slice(0);}else{if(_2 instanceof dojox.color.Color){this.colors=[null,null,_2,null,null];}else{if(dojo.isArray(_2)){this.colors=dojo.map(_2.slice(0),function(_3){if(dojo.isString(_3)){return new dojox.color.Color(_3);}return _3;});}else{if(dojo.isString(_2)){this.colors=[null,null,new dojox.color.Color(_2),null,null];}}}}};function tRGBA(p,_4,_5){var _6=new dojox.color.Palette();_6.colors=[];dojo.forEach(p.colors,function(_7){var r=(_4=="dr")?_7.r+_5:_7.r,g=(_4=="dg")?_7.g+_5:_7.g,b=(_4=="db")?_7.b+_5:_7.b,a=(_4=="da")?_7.a+_5:_7.a;_6.colors.push(new dojox.color.Color({r:Math.min(255,Math.max(0,r)),g:Math.min(255,Math.max(0,g)),b:Math.min(255,Math.max(0,b)),a:Math.min(1,Math.max(0,a))}));});console.log("The return colors are ",_6.colors," from the original colors ",p.colors);return _6;};function tCMY(p,_8,_9){var _a=new dojox.color.Palette();_a.colors=[];dojo.forEach(p.colors,function(_b){var o=_b.toCmy(),c=(_8=="dc")?o.c+_9:o.c,m=(_8=="dm")?o.m+_9:o.m,y=(_8=="dy")?o.y+_9:o.y;_a.colors.push(dojox.color.fromCmy(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y))));});return _a;};function tCMYK(p,_c,_d){var _e=new dojox.color.Palette();_e.colors=[];dojo.forEach(p.colors,function(_f){var o=_f.toCmyk(),c=(_c=="dc")?o.c+_d:o.c,m=(_c=="dm")?o.m+_d:o.m,y=(_c=="dy")?o.y+_d:o.y,k=(_c=="dk")?o.b+_d:o.b;_e.colors.push(dojox.color.fromCmyk(Math.min(100,Math.max(0,c)),Math.min(100,Math.max(0,m)),Math.min(100,Math.max(0,y)),Math.min(100,Math.max(0,k))));});return _e;};function tHSL(p,_10,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_11){var o=_11.toHsl(),h=(_10=="dh")?o.h+val:o.h,s=(_10=="ds")?o.s+val:o.s,l=(_10=="dl")?o.l+val:o.l;ret.colors.push(dojox.color.fromHsl(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,l))));});return ret;};function tHSV(p,_12,val){var ret=new dojox.color.Palette();ret.colors=[];dojo.forEach(p.colors,function(_13){var o=_13.toHsv(),h=(_12=="dh")?o.h+val:o.h,s=(_12=="ds")?o.s+val:o.s,v=(_12=="dv")?o.v+val:o.v;ret.colors.push(dojox.color.fromHsv(h%360,Math.min(100,Math.max(0,s)),Math.min(100,Math.max(0,v))));});return ret;};function rangeDiff(val,low,_14){return _14-((_14-val)*((_14-low)/_14));};dojo.extend(_1.Palette,{transform:function $Dgj_(_15){var fn=tRGBA;if(_15.use){var use=_15.use.toLowerCase();if(use.indexOf("hs")==0){if(use.charAt(2)=="l"){fn=tHSL;}else{fn=tHSV;}}else{if(use.indexOf("cmy")==0){if(use.charAt(3)=="k"){fn=tCMYK;}else{fn=tCMY;}}}}else{if("dc" in _15||"dm" in _15||"dy" in _15){if("dk" in _15){fn=tCMYK;}else{fn=tCMY;}}else{if("dh" in _15||"ds" in _15){if("dv" in _15){fn=tHSV;}else{fn=tHSL;}}}}var _16=this;for(var p in _15){if(p=="use"){continue;}_16=fn(_16,p,_15[p]);}return _16;},clone:function $Dgk_(){return new _1.Palette(this);}});dojo.mixin(_1.Palette,{generators:{analogous:function $Dgl_(_17){var _18=_17.high||60,low=_17.low||18,_19=dojo.isString(_17.base)?new dojox.color.Color(_17.base):_17.base,hsv=_19.toHsv();var h=[(hsv.h+low+360)%360,(hsv.h+Math.round(low/2)+360)%360,hsv.h,(hsv.h-Math.round(_18/2)+360)%360,(hsv.h-_18+360)%360];var s1=Math.max(10,(hsv.s<=95)?hsv.s+5:(100-(hsv.s-95))),s2=(hsv.s>1)?hsv.s-1:21-hsv.s,v1=(hsv.v>=92)?hsv.v-9:Math.max(hsv.v+9,20),v2=(hsv.v<=90)?Math.max(hsv.v+5,20):(95+Math.ceil((hsv.v-90)/2)),s=[s1,s2,hsv.s,s1,s1],v=[v1,v2,hsv.v,v1,v2];return new _1.Palette(dojo.map(h,function(hue,i){return dojox.color.fromHsv(hue,s[i],v[i]);}));},monochromatic:function $Dgm_(_1a){var _1b=dojo.isString(_1a.base)?new dojox.color.Color(_1a.base):_1a.base,hsv=_1b.toHsv();var s1=(hsv.s-30>9)?hsv.s-30:hsv.s+30,s2=hsv.s,v1=rangeDiff(hsv.v,20,100),v2=(hsv.v-20>20)?hsv.v-20:hsv.v+60,v3=(hsv.v-50>20)?hsv.v-50:hsv.v+30;return new _1.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v3),_1b,dojox.color.fromHsv(hsv.h,s1,v3),dojox.color.fromHsv(hsv.h,s2,v2)]);},triadic:function $Dgn_(_1c){var _1d=dojo.isString(_1c.base)?new dojox.color.Color(_1c.base):_1c.base,hsv=_1d.toHsv();var h1=(hsv.h+57+360)%360,h2=(hsv.h-157+360)%360,s1=(hsv.s>20)?hsv.s-10:hsv.s+10,s2=(hsv.s>90)?hsv.s-10:hsv.s+10,s3=(hsv.s>95)?hsv.s-5:hsv.s+5,v1=(hsv.v-20>20)?hsv.v-20:hsv.v+20,v2=(hsv.v-30>20)?hsv.v-30:hsv.v+30,v3=(hsv.v-30>70)?hsv.v-30:hsv.v+30;return new _1.Palette([dojox.color.fromHsv(h1,s1,hsv.v),dojox.color.fromHsv(hsv.h,s2,v2),_1d,dojox.color.fromHsv(h2,s2,v1),dojox.color.fromHsv(h2,s3,v3)]);},complementary:function $Dgo_(_1e){var _1f=dojo.isString(_1e.base)?new dojox.color.Color(_1e.base):_1e.base,hsv=_1f.toHsv();var h1=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,s1=Math.max(hsv.s-10,0),s2=rangeDiff(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new _1.Palette([dojox.color.fromHsv(hsv.h,s1,v1),dojox.color.fromHsv(hsv.h,s2,v2),_1f,dojox.color.fromHsv(h1,s3,v2),dojox.color.fromHsv(h1,hsv.s,hsv.v)]);},splitComplementary:function $Dgp_(_20){var _21=dojo.isString(_20.base)?new dojox.color.Color(_20.base):_20.base,_22=_20.da||30,hsv=_21.toHsv();var _23=((hsv.h*2)+137<360)?(hsv.h*2)+137:Math.floor(hsv.h/2)-137,h1=(_23-_22+360)%360,h2=(_23+_22)%360,s1=Math.max(hsv.s-10,0),s2=rangeDiff(hsv.s,10,100),s3=Math.min(100,hsv.s+20),v1=Math.min(100,hsv.v+30),v2=(hsv.v>20)?hsv.v-30:hsv.v+30;return new _1.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),_21,dojox.color.fromHsv(h2,s3,v2),dojox.color.fromHsv(h2,hsv.s,hsv.v)]);},compound:function $Dgq_(_24){var _25=dojo.isString(_24.base)?new dojox.color.Color(_24.base):_24.base,hsv=_25.toHsv();var h1=((hsv.h*2)+18<360)?(hsv.h*2)+18:Math.floor(hsv.h/2)-18,h2=((hsv.h*2)+120<360)?(hsv.h*2)+120:Math.floor(hsv.h/2)-120,h3=((hsv.h*2)+99<360)?(hsv.h*2)+99:Math.floor(hsv.h/2)-99,s1=(hsv.s-40>10)?hsv.s-40:hsv.s+40,s2=(hsv.s-10>80)?hsv.s-10:hsv.s+10,s3=(hsv.s-25>10)?hsv.s-25:hsv.s+25,v1=(hsv.v-40>10)?hsv.v-40:hsv.v+40,v2=(hsv.v-20>80)?hsv.v-20:hsv.v+20,v3=Math.max(hsv.v,20);return new _1.Palette([dojox.color.fromHsv(h1,s1,v1),dojox.color.fromHsv(h1,s2,v2),_25,dojox.color.fromHsv(h2,s3,v3),dojox.color.fromHsv(h3,s2,v2)]);},shades:function $Dgr_(_26){var _27=dojo.isString(_26.base)?new dojox.color.Color(_26.base):_26.base,hsv=_27.toHsv();var s=(hsv.s==100&&hsv.v==0)?0:hsv.s,v1=(hsv.v-50>20)?hsv.v-50:hsv.v+30,v2=(hsv.v-25>=20)?hsv.v-25:hsv.v+55,v3=(hsv.v-75>=20)?hsv.v-75:hsv.v+5,v4=Math.max(hsv.v-10,20);return new _1.Palette([new dojox.color.fromHsv(hsv.h,s,v1),new dojox.color.fromHsv(hsv.h,s,v2),_27,new dojox.color.fromHsv(hsv.h,s,v3),new dojox.color.fromHsv(hsv.h,s,v4)]);}},generate:function $Dgs_(_28,_29){if(dojo.isFunction(_29)){return _29({base:_28});}else{if(_1.Palette.generators[_29]){return _1.Palette.generators[_29]({base:_28});}}throw new Error("dojox.color.Palette.generate: the specified generator ('"+_29+"') does not exist.");}});})();}