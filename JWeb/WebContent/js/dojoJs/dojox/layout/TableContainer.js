/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.layout.TableContainer"]){dojo._hasResource["dojox.layout.TableContainer"]=true;dojo.experimental("dojox.layout.TableContainer");dojo.provide("dojox.layout.TableContainer");dojo.require("dijit.layout._LayoutWidget");dojo.declare("dojox.layout.TableContainer",dijit.layout._LayoutWidget,{cols:1,labelWidth:"100",showLabels:true,orientation:"horiz",spacing:1,customClass:"",postCreate:function $DAot_(){this.inherited(arguments);this._children=[];dojo.connect(this,"attr",dojo.hitch(this,function(_1,_2){if(_2&&(_1=="orientation"||_1=="customClass"||_1=="cols")){this.layout();}}));},startup:function $DAou_(){if(this._started){return;}this.inherited(arguments);if(this._initialized){return;}var _3=this.getChildren();if(_3.length<1){return;}this._initialized=true;dojo.addClass(this.domNode,"dijitTableLayout");dojo.forEach(_3,function(_4){if(!_4.started&&!_4._started){_4.startup();}});this.resize();this.layout();},resize:function $DAov_(){dojo.forEach(this.getChildren(),function(_5){if(typeof _5.resize=="function"){_5.resize();}});},layout:function $DAow_(){if(!this._initialized){return;}var _6=this.getChildren();var _7={};var _8=this;function addCustomClass(_9,_a,_b){if(_8.customClass!=""){var _c=_8.customClass+"-"+(_a||_9.tagName.toLowerCase());dojo.addClass(_9,_c);if(arguments.length>2){dojo.addClass(_9,_c+"-"+_b);}}};dojo.forEach(this._children,dojo.hitch(this,function(_d){_7[_d.id]=_d;}));dojo.forEach(_6,dojo.hitch(this,function(_e,_f){if(!_7[_e.id]){this._children.push(_e);}}));var _10=dojo.create("table",{"width":"100%","class":"tableContainer-table tableContainer-table-"+this.orientation,"cellspacing":this.spacing},this.domNode);var _11=dojo.create("tbody");_10.appendChild(_11);addCustomClass(_10,"table",this.orientation);var _12=Math.floor(100/this.cols)+"%";var _13=dojo.create("tr",{},_11);var _14=(!this.showLabels||this.orientation=="horiz")?_13:dojo.create("tr",{},_11);var _15=this.cols*(this.showLabels?2:1);var _16=0;dojo.forEach(this._children,dojo.hitch(this,function(_17,_18){var _19=_17.colspan||1;if(_19>1){_19=this.showLabels?Math.min(_15-1,_19*2-1):Math.min(_15,_19);}if(_16+_19-1+(this.showLabels?1:0)>=_15){_16=0;_13=dojo.create("tr",{},_11);_14=this.orientation=="horiz"?_13:dojo.create("tr",{},_11);}var _1a;if(this.showLabels){_1a=dojo.create("td",{"class":"tableContainer-labelCell"},_13);if(_17.spanLabel){dojo.attr(_1a,this.orientation=="vert"?"rowspan":"colspan",2);}else{addCustomClass(_1a,"labelCell");var _1b={"for":_17.attr("id")};var _1c=dojo.create("label",_1b,_1a);if(Number(this.labelWidth)>-1||String(this.labelWidth).indexOf("%")>-1){dojo.style(_1a,"width",String(this.labelWidth).indexOf("%")<0?this.labelWidth+"px":this.labelWidth);}_1c.innerHTML=_17.attr("label")||_17.attr("title");}}var _1d;if(_17.spanLabel&&_1a){_1d=_1a;}else{_1d=dojo.create("td",{"class":"tableContainer-valueCell"},_14);}if(_19>1){dojo.attr(_1d,"colspan",_19);}addCustomClass(_1d,"valueCell",_18);_1d.appendChild(_17.domNode);_16+=_19+(this.showLabels?1:0);}));if(this.table){this.table.parentNode.removeChild(this.table);}dojo.forEach(_6,function(_1e){if(typeof _1e.layout=="function"){_1e.layout();}});this.table=_10;this.resize();},_setSpacingAttr:function $DAox_(_1f){this.spacing=_1f;if(this.table){this.table.cellspacing=Number(_1f);}}});dojo.extend(dijit._Widget,{label:"",title:"",spanLabel:false,colspan:1});}