/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.grid._Events"]){dojo._hasResource["dojox.grid._Events"]=true;dojo.provide("dojox.grid._Events");dojo.declare("dojox.grid._Events",null,{cellOverClass:"dojoxGridCellOver",onKeyEvent:function $DAZZ_(e){this.dispatchKeyEvent(e);},onContentEvent:function $DAZa_(e){this.dispatchContentEvent(e);},onHeaderEvent:function $DAZb_(e){this.dispatchHeaderEvent(e);},onStyleRow:function $DAZc_(_1){var i=_1;i.customClasses+=(i.odd?" dojoxGridRowOdd":"")+(i.selected?" dojoxGridRowSelected":"")+(i.over?" dojoxGridRowOver":"");this.focus.styleRow(_1);this.edit.styleRow(_1);},onKeyDown:function $DAZd_(e){if(e.altKey||e.metaKey){return;}var dk=dojo.keys;var _2;switch(e.keyCode){case dk.ESCAPE:this.edit.cancel();break;case dk.ENTER:if(!this.edit.isEditing()){_2=this.focus.getHeaderIndex();if(_2>=0){this.setSortIndex(_2);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}dojo.stopEvent(e);}if(!e.shiftKey){var _3=this.edit.isEditing();this.edit.apply();if(!_3){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}if(!this.edit.isEditing()){var _4=this.focus.focusView||this.views.views[0];_4.content.decorateEvent(e);this.onRowClick(e);}break;case dk.SPACE:if(!this.edit.isEditing()){_2=this.focus.getHeaderIndex();if(_2>=0){this.setSortIndex(_2);break;}else{this.selection.clickSelect(this.focus.rowIndex,dojo.isCopyKey(e),e.shiftKey);}dojo.stopEvent(e);}break;case dk.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case dk.LEFT_ARROW:case dk.RIGHT_ARROW:if(!this.edit.isEditing()){var _5=e.keyCode;dojo.stopEvent(e);_2=this.focus.getHeaderIndex();if(_2>=0&&(e.shiftKey&&e.ctrlKey)){this.focus.colSizeAdjust(e,_2,(_5==dk.LEFT_ARROW?-1:1)*5);}else{var _6=(_5==dk.LEFT_ARROW)?1:-1;if(dojo._isBodyLtr()){_6*=-1;}this.focus.move(0,_6);}}break;case dk.UP_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){dojo.stopEvent(e);this.focus.move(-1,0);}break;case dk.DOWN_ARROW:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);this.focus.move(1,0);}break;case dk.PAGE_UP:if(!this.edit.isEditing()&&this.focus.rowIndex!==0){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.firstVisibleRow+1){this.focus.move(this.scroller.firstVisibleRow-this.focus.rowIndex,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex-1));this.focus.move(this.scroller.firstVisibleRow-this.scroller.lastVisibleRow+1,0);}}break;case dk.PAGE_DOWN:if(!this.edit.isEditing()&&this.focus.rowIndex+1!=this.rowCount){dojo.stopEvent(e);if(this.focus.rowIndex!=this.scroller.lastVisibleRow-1){this.focus.move(this.scroller.lastVisibleRow-this.focus.rowIndex-1,0);}else{this.setScrollTop(this.scroller.findScrollTop(this.focus.rowIndex+1));this.focus.move(this.scroller.lastVisibleRow-this.scroller.firstVisibleRow-1,0);}}break;default:break;}},onMouseOver:function $DAZe_(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function $DAZf_(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseDown:function $DAZg_(e){e.rowIndex==-1?this.onHeaderCellMouseDown(e):this.onCellMouseDown(e);},onMouseOverRow:function $DAZh_(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function $DAZi_(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onMouseDownRow:function $DAZj_(e){if(e.rowIndex!=-1){this.onRowMouseDown(e);}},onCellMouseOver:function $DAZk_(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onCellMouseOut:function $DAZl_(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onCellMouseDown:function $DAZm_(e){},onCellClick:function $DAZn_(e){this._click[0]=this._click[1];this._click[1]=e;if(!this.edit.isEditCell(e.rowIndex,e.cellIndex)){this.focus.setFocusCell(e.cell,e.rowIndex);}this.onRowClick(e);},onCellDblClick:function $DAZo_(e){if(this._click.length>1&&dojo.isIE){this.edit.setEditCell(this._click[1].cell,this._click[1].rowIndex);}else{if(this._click.length>1&&this._click[0].rowIndex!=this._click[1].rowIndex){this.edit.setEditCell(this._click[0].cell,this._click[0].rowIndex);}else{this.edit.setEditCell(e.cell,e.rowIndex);}}this.onRowDblClick(e);},onCellContextMenu:function $DAZp_(e){this.onRowContextMenu(e);},onCellFocus:function $DAZq_(_7,_8){this.edit.cellFocus(_7,_8);},onRowClick:function $DAZr_(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function $DAZs_(e){},onRowMouseOver:function $DAZt_(e){},onRowMouseOut:function $DAZu_(e){},onRowMouseDown:function $DAZv_(e){},onRowContextMenu:function $DAZw_(e){dojo.stopEvent(e);},onHeaderMouseOver:function $DAZx_(e){},onHeaderMouseOut:function $DAZy_(e){},onHeaderCellMouseOver:function $DAZz_(e){if(e.cellNode){dojo.addClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseOut:function $DAZ0_(e){if(e.cellNode){dojo.removeClass(e.cellNode,this.cellOverClass);}},onHeaderCellMouseDown:function $DAZ1_(e){},onHeaderClick:function $DAZ2_(e){},onHeaderCellClick:function $DAZ3_(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function $DAZ4_(e){},onHeaderCellDblClick:function $DAZ5_(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function $DAZ6_(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function $DAZ7_(e){if(!this.headerMenu){dojo.stopEvent(e);}},onStartEdit:function $DAZ8_(_9,_a){},onApplyCellEdit:function $DAZ9_(_b,_c,_d){},onCancelEdit:function $DAaA_(_e){},onApplyEdit:function $DAaB_(_f){},onCanSelect:function $DAaC_(_10){return true;},onCanDeselect:function $DAaD_(_11){return true;},onSelected:function $DAaE_(_12){this.updateRowStyles(_12);},onDeselected:function $DAaF_(_13){this.updateRowStyles(_13);},onSelectionChanged:function $DAaG_(){}});}