/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.date.buddhist.locale"]){dojo._hasResource["dojox.date.buddhist.locale"]=true;dojo.provide("dojox.date.buddhist.locale");dojo.experimental("dojox.date.buddhist.locale");dojo.require("dojox.date.buddhist.Date");dojo.require("dojo.regexp");dojo.require("dojo.string");dojo.require("dojo.i18n");dojo.requireLocalization("dojo.cldr","buddhist",null,"ROOT,ar,be,da,de,el,eu,fr,gsw,hr,hu,ko,lt,nb,ne,no,pl,pt,pt-pt,ro,sh,sr,sr-latn,th");(function(){function formatPattern(_1,_2,_3,_4,_5){return _5.replace(/([a-z])\1*/ig,function(_6){var s,_7;var c=_6.charAt(0);var l=_6.length;var _8=["abbr","wide","narrow"];switch(c){case "G":s=_2["eraAbbr"][0];break;case "y":s=String(_1.getFullYear());break;case "M":var m=_1.getMonth();if(l<3){s=m+1;_7=true;}else{var _9=["months","format",_8[l-3]].join("-");s=_2[_9][m];}break;case "d":s=_1.getDate(true);_7=true;break;case "E":var d=_1.getDay();if(l<3){s=d+1;_7=true;}else{var _a=["days","format",_8[l-3]].join("-");s=_2[_a][d];}break;case "a":var _b=(_1.getHours()<12)?"am":"pm";s=_2[_b];break;case "h":case "H":case "K":case "k":var h=_1.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}_7=true;break;case "m":s=_1.getMinutes();_7=true;break;case "s":s=_1.getSeconds();_7=true;break;case "S":s=Math.round(_1.getMilliseconds()*Math.pow(10,l-3));_7=true;break;default:throw new Error("dojox.date.buddhist.locale.formatPattern: invalid pattern char: "+_5);}if(_7){s=dojo.string.pad(s,l);}return s;});};dojox.date.buddhist.locale.format=function $Dsq_(_c,_d){_d=_d||{};var _e=dojo.i18n.normalizeLocale(_d.locale);var _f=_d.formatLength||"short";var _10=dojox.date.buddhist.locale._getBuddhistBundle(_e);var str=[];var _11=dojo.hitch(this,formatPattern,_c,_10,_e,_d.fullYear);if(_d.selector=="year"){var _12=_c.getFullYear();return _12;}if(_d.selector!="time"){var _13=_d.datePattern||_10["dateFormat-"+_f];if(_13){str.push(_processPattern(_13,_11));}}if(_d.selector!="date"){var _14=_d.timePattern||_10["timeFormat-"+_f];if(_14){str.push(_processPattern(_14,_11));}}var _15=str.join(" ");return _15;};dojox.date.buddhist.locale.regexp=function $Dsr_(_16){return dojox.date.buddhist.locale._parseInfo(_16).regexp;};dojox.date.buddhist.locale._parseInfo=function $Dss_(_17){_17=_17||{};var _18=dojo.i18n.normalizeLocale(_17.locale);var _19=dojox.date.buddhist.locale._getBuddhistBundle(_18);var _1a=_17.formatLength||"short";var _1b=_17.datePattern||_19["dateFormat-"+_1a];var _1c=_17.timePattern||_19["timeFormat-"+_1a];var _1d;if(_17.selector=="date"){_1d=_1b;}else{if(_17.selector=="time"){_1d=_1c;}else{_1d=(typeof (_1c)=="undefined")?_1b:_1b+" "+_1c;}}var _1e=[];var re=_processPattern(_1d,dojo.hitch(this,_buildDateTimeRE,_1e,_19,_17));return {regexp:re,tokens:_1e,bundle:_19};};dojox.date.buddhist.locale.parse=function $Dst_(_1f,_20){_1f=_1f.replace(/[\u200E\u200F\u202A-\u202E]/g,"");if(!_20){_20={};}var _21=dojox.date.buddhist.locale._parseInfo(_20);var _22=_21.tokens,_23=_21.bundle;var re=new RegExp("^"+_21.regexp+"$");var _24=re.exec(_1f);var _25=dojo.i18n.normalizeLocale(_20.locale);if(!_24){console.debug("dojox.date.buddhist.locale.parse: value  "+_1f+" doesn't match pattern   "+re);return null;}var _26,_27;var _28=[2513,0,1,0,0,0,0];var _29="";var _2a=0;var _2b=["abbr","wide","narrow"];var _2c=dojo.every(_24,function(v,i){if(!i){return true;}var _2d=_22[i-1];var l=_2d.length;switch(_2d.charAt(0)){case "y":_28[0]=Number(v);break;case "M":if(l>2){var _2e=_23["months-format-"+_2b[l-3]].concat();if(!_20.strict){v=v.replace(".","").toLowerCase();_2e=dojo.map(_2e,function(s){return s?s.replace(".","").toLowerCase():s;});}v=dojo.indexOf(_2e,v);if(v==-1){return false;}_2a=l;}else{v--;}_28[1]=Number(v);break;case "D":_28[1]=0;case "d":_28[2]=Number(v);break;case "a":var am=_20.am||_23.am;var pm=_20.pm||_23.pm;if(!_20.strict){var _2f=/\./g;v=v.replace(_2f,"").toLowerCase();am=am.replace(_2f,"").toLowerCase();pm=pm.replace(_2f,"").toLowerCase();}if(_20.strict&&v!=am&&v!=pm){return false;}_29=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":_28[3]=Number(v);break;case "m":_28[4]=Number(v);break;case "s":_28[5]=Number(v);break;case "S":_28[6]=Number(v);}return true;});var _30=+_28[3];if(_29==="p"&&_30<12){_28[3]=_30+12;}else{if(_29==="a"&&_30==12){_28[3]=0;}}var _31=new dojox.date.buddhist.Date(_28[0],_28[1],_28[2],_28[3],_28[4],_28[5],_28[6]);return _31;};function _processPattern(_32,_33,_34,_35){var _36=function(x){return x;};_33=_33||_36;_34=_34||_36;_35=_35||_36;var _37=_32.match(/(''|[^'])+/g);var _38=_32.charAt(0)=="'";dojo.forEach(_37,function(_39,i){if(!_39){_37[i]="";}else{_37[i]=(_38?_34:_33)(_39);_38=!_38;}});return _35(_37.join(""));};function _buildDateTimeRE(_3a,_3b,_3c,_3d){_3d=dojo.regexp.escapeString(_3d);var _3e=dojo.i18n.normalizeLocale(_3c.locale);return _3d.replace(/([a-z])\1*/ig,function(_3f){var s;var c=_3f.charAt(0);var l=_3f.length;var p2="",p3="";if(_3c.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d+";break;case "M":s=(l>2)?"\\S+":p2+"[1-9]|1[0-2]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s=p2+"\\d|[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_3c.am||_3b.am||"AM";var pm=_3c.pm||_3b.pm||"PM";if(_3c.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}}break;default:s=".*";}if(_3a){_3a.push(_3f);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _40=[];dojox.date.buddhist.locale.addCustomFormats=function $Dsu_(_41,_42){_40.push({pkg:_41,name:_42});};dojox.date.buddhist.locale._getBuddhistBundle=function $Dsv_(_43){var _44={};dojo.forEach(_40,function(_45){var _46=dojo.i18n.getLocalization(_45.pkg,_45.name,_43);_44=dojo.mixin(_44,_46);},this);return _44;};})();dojox.date.buddhist.locale.addCustomFormats("dojo.cldr","buddhist");dojox.date.buddhist.locale.getNames=function $Dsw_(_47,_48,_49,_4a,_4b){var _4c;var _4d=dojox.date.buddhist.locale._getBuddhistBundle;var _4e=[_47,_49,_48];if(_49=="standAlone"){var key=_4e.join("-");_4c=_4d(_4a)[key];if(_4c===_4d("ROOT")[key]){_4c=undefined;}}_4e[1]="format";return (_4c||_4d(_4a)[_4e.join("-")]).concat();};}