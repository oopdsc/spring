/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.collections.BinaryTree"]){dojo._hasResource["dojox.collections.BinaryTree"]=true;dojo.provide("dojox.collections.BinaryTree");dojo.require("dojox.collections._base");dojox.collections.BinaryTree=function $DfO_(_1){function node(_2,_3,_4){this.value=_2||null;this.right=_3||null;this.left=_4||null;this.clone=function $DfD_(){var c=new node();if(this.value.value){c.value=this.value.clone();}else{c.value=this.value;}if(this.left!=null){c.left=this.left.clone();}if(this.right!=null){c.right=this.right.clone();}return c;};this.compare=function $DfE_(n){if(this.value>n.value){return 1;}if(this.value<n.value){return -1;}return 0;};this.compareData=function $DfF_(d){if(this.value>d){return 1;}if(this.value<d){return -1;}return 0;};};function inorderTraversalBuildup(_5,a){if(_5){inorderTraversalBuildup(_5.left,a);a.push(_5.value);inorderTraversalBuildup(_5.right,a);}};function preorderTraversal(_6,_7){var s="";if(_6){s=_6.value.toString()+_7;s+=preorderTraversal(_6.left,_7);s+=preorderTraversal(_6.right,_7);}return s;};function inorderTraversal(_8,_9){var s="";if(_8){s=inorderTraversal(_8.left,_9);s+=_8.value.toString()+_9;s+=inorderTraversal(_8.right,_9);}return s;};function postorderTraversal(_a,_b){var s="";if(_a){s=postorderTraversal(_a.left,_b);s+=postorderTraversal(_a.right,_b);s+=_a.value.toString()+_b;}return s;};function searchHelper(_c,_d){if(!_c){return null;}var i=_c.compareData(_d);if(i==0){return _c;}if(i>0){return searchHelper(_c.left,_d);}else{return searchHelper(_c.right,_d);}};this.add=function $DfG_(_e){var n=new node(_e);var i;var _f=_10;var _11=null;while(_f){i=_f.compare(n);if(i==0){return;}_11=_f;if(i>0){_f=_f.left;}else{_f=_f.right;}}this.count++;if(!_11){_10=n;}else{i=_11.compare(n);if(i>0){_11.left=n;}else{_11.right=n;}}};this.clear=function $DfH_(){_10=null;this.count=0;};this.clone=function $DfI_(){var c=new dojox.collections.BinaryTree();var itr=this.getIterator();while(!itr.atEnd()){c.add(itr.get());}return c;};this.contains=function $DfJ_(_12){return this.search(_12)!=null;};this.deleteData=function $DfK_(_13){var _14=_10;var _15=null;var i=_14.compareData(_13);while(i!=0&&_14!=null){if(i>0){_15=_14;_14=_14.left;}else{if(i<0){_15=_14;_14=_14.right;}}i=_14.compareData(_13);}if(!_14){return;}this.count--;if(!_14.right){if(!_15){_10=_14.left;}else{i=_15.compare(_14);if(i>0){_15.left=_14.left;}else{if(i<0){_15.right=_14.left;}}}}else{if(!_14.right.left){if(!_15){_10=_14.right;}else{i=_15.compare(_14);if(i>0){_15.left=_14.right;}else{if(i<0){_15.right=_14.right;}}}}else{var _16=_14.right.left;var _17=_14.right;while(_16.left!=null){_17=_16;_16=_16.left;}_17.left=_16.right;_16.left=_14.left;_16.right=_14.right;if(!_15){_10=_16;}else{i=_15.compare(_14);if(i>0){_15.left=_16;}else{if(i<0){_15.right=_16;}}}}}};this.getIterator=function $DfL_(){var a=[];inorderTraversalBuildup(_10,a);return new dojox.collections.Iterator(a);};this.search=function $DfM_(_18){return searchHelper(_10,_18);};this.toString=function $DfN_(_19,sep){if(!_19){_19=dojox.collections.BinaryTree.TraversalMethods.Inorder;}if(!sep){sep=",";}var s="";switch(_19){case dojox.collections.BinaryTree.TraversalMethods.Preorder:s=preorderTraversal(_10,sep);break;case dojox.collections.BinaryTree.TraversalMethods.Inorder:s=inorderTraversal(_10,sep);break;case dojox.collections.BinaryTree.TraversalMethods.Postorder:s=postorderTraversal(_10,sep);break;}if(s.length==0){return "";}else{return s.substring(0,s.length-sep.length);}};this.count=0;var _10=this.root=null;if(_1){this.add(_1);}};dojox.collections.BinaryTree.TraversalMethods={Preorder:1,Inorder:2,Postorder:3};}