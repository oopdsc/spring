/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojox.embed.Flash"]){dojo._hasResource["dojox.embed.Flash"]=true;dojo.provide("dojox.embed.Flash");(function(){var _1,_2;var _3=9;var _4="dojox-embed-flash-",_5=0;var _6={expressInstall:false,width:320,height:240,swLiveConnect:"true",allowScriptAccess:"sameDomain",allowNetworking:"all",style:null,redirect:null};function prep(_7){_7=dojo.delegate(_6,_7);if(!("path" in _7)){console.error("dojox.embed.Flash(ctor):: no path reference to a Flash movie was provided.");return null;}if(!("id" in _7)){_7.id=(_4+_5++);}return _7;};if(dojo.isIE){_1=function $D9O_(_8){_8=prep(_8);if(!_8){return null;}var p;var _9=_8.path;if(_8.vars){var a=[];for(p in _8.vars){a.push(p+"="+_8.vars[p]);}_8.params.FlashVars=a.join("&");delete _8.vars;}var s="<object id=\""+_8.id+"\" "+"classid=\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\" "+"width=\""+_8.width+"\" "+"height=\""+_8.height+"\""+((_8.style)?" style=\""+_8.style+"\"":"")+">"+"<param name=\"movie\" value=\""+_9+"\" />";if(_8.params){for(p in _8.params){s+="<param name=\""+p+"\" value=\""+_8.params[p]+"\" />";}}s+="</object>";return {id:_8.id,markup:s};};_2=(function(){var _a=10,_b=null;while(!_b&&_a>7){try{_b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+_a--);}catch(e){}}if(_b){var v=_b.GetVariable("$version").split(" ")[1].split(",");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();dojo.addOnUnload(function(){var _c=function(){};var _d=dojo.query("object").reverse().style("display","none").forEach(function(i){for(var p in i){if((p!="FlashVars")&&dojo.isFunction(i[p])){try{i[p]=_c;}catch(e){}}}});});}else{_1=function $D9P_(_e){_e=prep(_e);if(!_e){return null;}var p;var _f=_e.path;if(_e.vars){var a=[];for(p in _e.vars){a.push(p+"="+_e.vars[p]);}_e.params.flashVars=a.join("&");delete _e.vars;}var s="<embed type=\"application/x-shockwave-flash\" "+"src=\""+_f+"\" "+"id=\""+_e.id+"\" "+"width=\""+_e.width+"\" "+"height=\""+_e.height+"\""+((_e.style)?" style=\""+_e.style+"\" ":"")+"swLiveConnect=\""+_e.swLiveConnect+"\" "+"allowScriptAccess=\""+_e.allowScriptAccess+"\" "+"allowNetworking=\""+_e.allowNetworking+"\" "+"pluginspage=\""+window.location.protocol+"//www.adobe.com/go/getflashplayer\" ";if(_e.params){for(p in _e.params){s+=" "+p+"=\""+_e.params[p]+"\"";}}s+=" />";return {id:_e.id,markup:s};};_2=(function(){var _10=navigator.plugins["Shockwave Flash"];if(_10&&_10.description){var v=_10.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".");return {major:(v[0]!=null)?parseInt(v[0]):0,minor:(v[1]!=null)?parseInt(v[1]):0,rev:(v[2]!=null)?parseInt(v[2]):0};}return {major:0,minor:0,rev:0};})();}dojox.embed.Flash=function $D9R_(_11,_12){if(location.href.toLowerCase().indexOf("file://")>-1){throw new Error("dojox.embed.Flash can't be run directly from a file. To instatiate the required SWF correctly it must be run from a server, like localHost.");}this.available=dojox.embed.Flash.available;this.minimumVersion=_11.minimumVersion||_3;this.id=null;this.movie=null;this.domNode=null;if(_12){_12=dojo.byId(_12);}setTimeout(dojo.hitch(this,function(){if(_11.expressInstall||this.available&&this.available>=this.minimumVersion){if(_11&&_12){this.init(_11,_12);}else{this.onError("embed.Flash was not provided with the proper arguments.");}}else{if(!this.available){this.onError("Flash is not installed.");}else{this.onError("Flash version detected: "+this.available+" is out of date. Minimum required: "+this.minimumVersion);}}}),100);};dojo.extend(dojox.embed.Flash,{onReady:function $D9D_(_13){console.warn("embed.Flash.movie.onReady:",_13);},onLoad:function $D9E_(_14){console.warn("embed.Flash.movie.onLoad:",_14);},onError:function $D9F_(msg){},_onload:function $D9G_(){clearInterval(this._poller);delete this._poller;delete this._pollCount;delete this._pollMax;this.onLoad(this.movie);},init:function $D9H_(_15,_16){console.log("embed.Flash.movie.init");this.destroy();_16=dojo.byId(_16||this.domNode);if(!_16){throw new Error("dojox.embed.Flash: no domNode reference has been passed.");}var p=0,_17=false;this._poller=null;this._pollCount=0;this._pollMax=15;this.pollTime=100;if(dojox.embed.Flash.initialized){this.id=dojox.embed.Flash.place(_15,_16);this.domNode=_16;setTimeout(dojo.hitch(this,function(){this.movie=this.byId(this.id,_15.doc);this.onReady(this.movie);this._poller=setInterval(dojo.hitch(this,function(){try{p=this.movie.PercentLoaded();}catch(e){console.warn("this.movie.PercentLoaded() failed");}if(p==100){this._onload();}else{if(p==0&&this._pollCount++>this._pollMax){clearInterval(this._poller);throw new Error("Building SWF failed.");}}}),this.pollTime);}),1);}},_destroy:function $D9I_(){try{this.domNode.removeChild(this.movie);}catch(e){}this.id=this.movie=this.domNode=null;},destroy:function $D9J_(){if(!this.movie){return;}var _18=dojo.delegate({id:true,movie:true,domNode:true,onReady:true,onLoad:true});for(var p in this){if(!_18[p]){delete this[p];}}if(this._poller){dojo.connect(this,"onLoad",this,"_destroy");}else{this._destroy();}},byId:function $D9K_(_19,doc){doc=doc||document;if(doc.embeds[_19]){return doc.embeds[_19];}if(doc[_19]){return doc[_19];}if(window[_19]){return window[_19];}if(document[_19]){return document[_19];}return null;}});dojo.mixin(dojox.embed.Flash,{minSupported:8,available:_2.major,supported:(_2.major>=_2.required),minimumRequired:_2.required,version:_2,initialized:false,onInitialize:function $D9L_(){dojox.embed.Flash.initialized=true;},__ie_markup__:function $D9M_(_1a){return _1(_1a);},proxy:function $D9N_(obj,_1b){dojo.forEach((dojo.isArray(_1b)?_1b:[_1b]),function(_1c){this[_1c]=dojo.hitch(this,function(){return (function(){return eval(this.movie.CallFunction("<invoke name=\""+_1c+"\" returntype=\"javascript\">"+"<arguments>"+dojo.map(arguments,function(_1d){return __flash__toXML(_1d);}).join("")+"</arguments>"+"</invoke>"));}).apply(this,arguments||[]);});},obj);}});if(dojo.isIE){if(dojo._initFired){var e=document.createElement("script");e.type="text/javascript";e.src=dojo.moduleUrl("dojox","embed/IE/flash.js");document.getElementsByTagName("head")[0].appendChild(e);}else{document.write("<scr"+"ipt type=\"text/javascript\" src=\""+dojo.moduleUrl("dojox","embed/IE/flash.js")+"\">"+"</scr"+"ipt>");}}else{dojox.embed.Flash.place=function $D9S_(_1e,_1f){var o=_1(_1e);_1f=dojo.byId(_1f);if(!_1f){_1f=dojo.doc.createElement("div");_1f.id=o.id+"-container";dojo.body().appendChild(_1f);}if(o){_1f.innerHTML=o.markup;return o.id;}return null;};dojox.embed.Flash.onInitialize();}})();}