/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.require("dojo.date.stamp");dojo.parser=new function(){var d=dojo;this._attrName=d._scopeName+"Type";this._query="["+this._attrName+"]";function val2type(_1){if(d.isString(_1)){return "string";}if(typeof _1=="number"){return "number";}if(typeof _1=="boolean"){return "boolean";}if(d.isFunction(_1)){return "function";}if(d.isArray(_1)){return "array";}if(_1 instanceof Date){return "date";}if(_1 instanceof d._Url){return "url";}return "object";};function str2obj(_2,_3){switch(_3){case "string":return _2;case "number":return _2.length?Number(_2):NaN;case "boolean":return typeof _2=="boolean"?_2:!(_2.toLowerCase()=="false");case "function":if(d.isFunction(_2)){_2=_2.toString();_2=d.trim(_2.substring(_2.indexOf("{")+1,_2.length-1));}try{if(_2.search(/[^\w\.]+/i)!=-1){return new Function(_2);}else{return d.getObject(_2,false);}}catch(e){return new Function();}case "array":return _2?_2.split(/\s*,\s*/):[];case "date":switch(_2){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_2);}case "url":return d.baseUrl+_2;default:return d.fromJson(_2);}};var _4={};dojo.connect(dojo,"extend",function(){_4={};});function getClassInfo(_5){if(!_4[_5]){var _6=d.getObject(_5);if(!d.isFunction(_6)){throw new Error("Could not load class '"+_5+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _7=_6.prototype;var _8={},_9={};for(var _a in _7){if(_a.charAt(0)=="_"){continue;}if(_a in _9){continue;}var _b=_7[_a];_8[_a]=val2type(_b);}_4[_5]={cls:_6,params:_8};}return _4[_5];};this._functionFromScript=function $DBJC_(_c){var _d="";var _e="";var _f=_c.getAttribute("args");if(_f){d.forEach(_f.split(/\s*,\s*/),function(_10,idx){_d+="var "+_10+" = arguments["+idx+"]; ";});}var _11=_c.getAttribute("with");if(_11&&_11.length){d.forEach(_11.split(/\s*,\s*/),function(_12){_d+="with("+_12+"){";_e+="}";});}return new Function(_d+_c.innerHTML+_e);};this.instantiate=function $DBJD_(_13,_14,_15){var _16=[],dp=dojo.parser;_14=_14||{};_15=_15||{};d.forEach(_13,function(_17){if(!_17){return;}var _18=dp._attrName in _14?_14[dp._attrName]:_17.getAttribute(dp._attrName);if(!_18||!_18.length){return;}var _19=getClassInfo(_18),_1a=_19.cls,ps=_1a._noScript||_1a.prototype._noScript;var _1b={},_1c=_17.attributes;for(var _1d in _19.params){var _1e=_1d in _14?{value:_14[_1d],specified:true}:_1c.getNamedItem(_1d);if(!_1e||(!_1e.specified&&(!dojo.isIE||_1d.toLowerCase()!="value"))){continue;}var _1f=_1e.value;switch(_1d){case "class":_1f="className" in _14?_14.className:_17.className;break;case "style":_1f="style" in _14?_14.style:(_17.style&&_17.style.cssText);}var _20=_19.params[_1d];if(typeof _1f=="string"){_1b[_1d]=str2obj(_1f,_20);}else{_1b[_1d]=_1f;}}if(!ps){var _21=[],_22=[];d.query("> script[type^='dojo/']",_17).orphan().forEach(function(_23){var _24=_23.getAttribute("event"),_18=_23.getAttribute("type"),nf=d.parser._functionFromScript(_23);if(_24){if(_18=="dojo/connect"){_21.push({event:_24,func:nf});}else{_1b[_24]=nf;}}else{_22.push(nf);}});}var _25=_1a.markupFactory||_1a.prototype&&_1a.prototype.markupFactory;var _26=_25?_25(_1b,_17,_1a):new _1a(_1b,_17);_16.push(_26);var _27=_17.getAttribute("jsId");if(_27){d.setObject(_27,_26);}if(!ps){d.forEach(_21,function(_28){d.connect(_26,_28.event,null,_28.func);});d.forEach(_22,function(_29){_29.call(_26);});}});if(!_14._started){d.forEach(_16,function(_2a){if(!_15.noStart&&_2a&&_2a.startup&&!_2a._started&&(!_2a.getParent||!_2a.getParent())){_2a.startup();}});}return _16;};this.parse=function $DBJE_(_2b,_2c){var _2d;if(!_2c&&_2b&&_2b.rootNode){_2c=_2b;_2d=_2c.rootNode;}else{_2d=_2b;}var _2e=d.query(this._query,_2d);return this.instantiate(_2e,null,_2c);};}();(function(){var _2f=function(){if(dojo.config.parseOnLoad){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_2f);}else{dojo._loaders.unshift(_2f);}})();}