/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojo.date.locale"]){dojo._hasResource["dojo.date.locale"]=true;dojo.provide("dojo.date.locale");dojo.require("dojo.date");dojo.require("dojo.cldr.supplemental");dojo.require("dojo.regexp");dojo.require("dojo.string");dojo.require("dojo.i18n");dojo.requireLocalization("dojo.cldr","gregorian",null,"ROOT,aa,af,am,ar,ar-jo,ar-lb,ar-qa,ar-sa,ar-sy,ar-tn,ar-ye,as,az,az-cyrl,be,bg,bn,bo,byn,ca,cs,cy,da,de,de-at,de-be,dz,el,el-polyton,en,en-au,en-be,en-bw,en-bz,en-ca,en-dsrt,en-gb,en-ie,en-in,en-mt,en-nz,en-pk,en-shaw,en-za,en-zw,eo,es,es-ar,es-cl,es-co,es-ec,es-es,es-gt,es-hn,es-pa,es-pe,es-pr,es-us,et,eu,fa,fa-af,fi,fil,fo,fr,fr-be,fr-ca,fr-ch,ga,gl,gsw,gu,gv,ha,haw,he,hi,hr,hu,hy,hy-am-revised,id,ig,ii,in,is,it,it-ch,it-it,iw,ja,ka,kk,kl,km,kn,ko,ko-kr,kok,kw,lt,lv,mk,ml,mn,mo,mr,ms,ms-bn,mt,nb,ne,nl,nl-be,nn,no,om,or,pa,pa-arab,pa-pk,pl,ps,pt,pt-br,pt-pt,ro,ru,ru-ua,se-fi,sh,si,sk,sl,so,sq,sr,sr-ba,sr-cyrl-ba,sr-latn,sr-latn-me,sr-me,sv,sv-fi,sw,syr,ta,te,th,ti,ti-er,tl,tr,uk,ur,vi,yo,zh,zh-cn,zh-hans-sg,zh-hant,zh-hant-hk,zh-hant-mo,zh-hk,zh-mo,zh-sg,zh-tw,zu");(function(){function formatPattern(_1,_2,_3,_4){return _4.replace(/([a-z])\1*/ig,function(_5){var s,_6,c=_5.charAt(0),l=_5.length,_7=["abbr","wide","narrow"];switch(c){case "G":s=_2[(l<4)?"eraAbbr":"eraNames"][_1.getFullYear()<0?0:1];break;case "y":s=_1.getFullYear();switch(l){case 1:break;case 2:if(!_3.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:_6=true;}break;case "Q":case "q":s=Math.ceil((_1.getMonth()+1)/3);_6=true;break;case "M":var m=_1.getMonth();if(l<3){s=m+1;_6=true;}else{var _8=["months","format",_7[l-3]].join("-");s=_2[_8][m];}break;case "w":var _9=0;s=dojo.date.locale._getWeekOfYear(_1,_9);_6=true;break;case "d":s=_1.getDate();_6=true;break;case "D":s=dojo.date.locale._getDayOfYear(_1);_6=true;break;case "E":var d=_1.getDay();if(l<3){s=d+1;_6=true;}else{var _a=["days","format",_7[l-3]].join("-");s=_2[_a][d];}break;case "a":var _b=(_1.getHours()<12)?"am":"pm";s=_2[_b];break;case "h":case "H":case "K":case "k":var h=_1.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}_6=true;break;case "m":s=_1.getMinutes();_6=true;break;case "s":s=_1.getSeconds();_6=true;break;case "S":s=Math.round(_1.getMilliseconds()*Math.pow(10,l-3));_6=true;break;case "v":case "z":s=dojo.date.locale._getZone(_1,true,_3);if(s){break;}l=4;case "Z":var _c=dojo.date.locale._getZone(_1,false,_3);var tz=[(_c<=0?"+":"-"),dojo.string.pad(Math.floor(Math.abs(_c)/60),2),dojo.string.pad(Math.abs(_c)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_4);}if(_6){s=dojo.string.pad(s,l);}return s;});};dojo.date.locale._getZone=function $DBDb_(_d,_e,_f){if(_e){return dojo.date.getTimezoneName(_d);}else{return _d.getTimezoneOffset();}};dojo.date.locale.format=function $DBDc_(_10,_11){_11=_11||{};var _12=dojo.i18n.normalizeLocale(_11.locale),_13=_11.formatLength||"short",_14=dojo.date.locale._getGregorianBundle(_12),str=[],_15=dojo.hitch(this,formatPattern,_10,_14,_11);if(_11.selector=="year"){return _processPattern(_14["dateFormatItem-yyyy"]||"yyyy",_15);}var _16;if(_11.selector!="date"){_16=_11.timePattern||_14["timeFormat-"+_13];if(_16){str.push(_processPattern(_16,_15));}}if(_11.selector!="time"){_16=_11.datePattern||_14["dateFormat-"+_13];if(_16){str.push(_processPattern(_16,_15));}}return str.length==1?str[0]:_14["dateTimeFormat-"+_13].replace(/\{(\d+)\}/g,function(_17,key){return str[key];});};dojo.date.locale.regexp=function $DBDd_(_18){return dojo.date.locale._parseInfo(_18).regexp;};dojo.date.locale._parseInfo=function $DBDe_(_19){_19=_19||{};var _1a=dojo.i18n.normalizeLocale(_19.locale),_1b=dojo.date.locale._getGregorianBundle(_1a),_1c=_19.formatLength||"short",_1d=_19.datePattern||_1b["dateFormat-"+_1c],_1e=_19.timePattern||_1b["timeFormat-"+_1c],_1f;if(_19.selector=="date"){_1f=_1d;}else{if(_19.selector=="time"){_1f=_1e;}else{_1f=_1b["dateTimeFormat-"+_1c].replace(/\{(\d+)\}/g,function(_20,key){return [_1e,_1d][key];});}}var _21=[],re=_processPattern(_1f,dojo.hitch(this,_buildDateTimeRE,_21,_1b,_19));return {regexp:re,tokens:_21,bundle:_1b};};dojo.date.locale.parse=function $DBDf_(_22,_23){var _24=dojo.date.locale._parseInfo(_23),_25=_24.tokens,_26=_24.bundle,re=new RegExp("^"+_24.regexp+"$",_24.strict?"":"i"),_27=re.exec(_22);if(!_27){return null;}var _28=["abbr","wide","narrow"],_29=[1970,0,1,0,0,0,0],_2a="",_2b=dojo.every(_27,function(v,i){if(!i){return true;}var _2c=_25[i-1];var l=_2c.length;switch(_2c.charAt(0)){case "y":if(l!=2&&_23.strict){_29[0]=v;}else{if(v<100){v=Number(v);var _2d=""+new Date().getFullYear(),_2e=_2d.substring(0,2)*100,_2f=Math.min(Number(_2d.substring(2,4))+20,99),num=(v<_2f)?_2e+v:_2e-100+v;_29[0]=num;}else{if(_23.strict){return false;}_29[0]=v;}}break;case "M":if(l>2){var _30=_26["months-format-"+_28[l-3]].concat();if(!_23.strict){v=v.replace(".","").toLowerCase();_30=dojo.map(_30,function(s){return s.replace(".","").toLowerCase();});}v=dojo.indexOf(_30,v);if(v==-1){return false;}}else{v--;}_29[1]=v;break;case "E":case "e":var _31=_26["days-format-"+_28[l-3]].concat();if(!_23.strict){v=v.toLowerCase();_31=dojo.map(_31,function(d){return d.toLowerCase();});}v=dojo.indexOf(_31,v);if(v==-1){return false;}break;case "D":_29[1]=0;case "d":_29[2]=v;break;case "a":var am=_23.am||_26.am;var pm=_23.pm||_26.pm;if(!_23.strict){var _32=/\./g;v=v.replace(_32,"").toLowerCase();am=am.replace(_32,"").toLowerCase();pm=pm.replace(_32,"").toLowerCase();}if(_23.strict&&v!=am&&v!=pm){return false;}_2a=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_29[3]=v;break;case "m":_29[4]=v;break;case "s":_29[5]=v;break;case "S":_29[6]=v;}return true;});var _33=+_29[3];if(_2a==="p"&&_33<12){_29[3]=_33+12;}else{if(_2a==="a"&&_33==12){_29[3]=0;}}var _34=new Date(_29[0],_29[1],_29[2],_29[3],_29[4],_29[5],_29[6]);if(_23.strict){_34.setFullYear(_29[0]);}var _35=_25.join(""),_36=_35.indexOf("d")!=-1,_37=_35.indexOf("M")!=-1;if(!_2b||(_37&&_34.getMonth()>_29[1])||(_36&&_34.getDate()>_29[2])){return null;}if((_37&&_34.getMonth()<_29[1])||(_36&&_34.getDate()<_29[2])){_34=dojo.date.add(_34,"hour",1);}return _34;};function _processPattern(_38,_39,_3a,_3b){var _3c=function(x){return x;};_39=_39||_3c;_3a=_3a||_3c;_3b=_3b||_3c;var _3d=_38.match(/(''|[^'])+/g),_3e=_38.charAt(0)=="'";dojo.forEach(_3d,function(_3f,i){if(!_3f){_3d[i]="";}else{_3d[i]=(_3e?_3a:_39)(_3f);_3e=!_3e;}});return _3b(_3d.join(""));};function _buildDateTimeRE(_40,_41,_42,_43){_43=dojo.regexp.escapeString(_43);if(!_42.strict){_43=_43.replace(" a"," ?a");}return _43.replace(/([a-z])\1*/ig,function(_44){var s,c=_44.charAt(0),l=_44.length,p2="",p3="";if(_42.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":s=(l>2)?"\\S+?":p2+"[1-9]|1[0-2]";break;case "D":s=p2+"[1-9]|"+p3+"[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6]";break;case "d":s="[12]\\d|"+p2+"[1-9]|3[01]";break;case "w":s=p2+"[1-9]|[1-4][0-9]|5[0-3]";break;case "E":s="\\S+";break;case "h":s=p2+"[1-9]|1[0-2]";break;case "k":s=p2+"\\d|1[01]";break;case "H":s=p2+"\\d|1\\d|2[0-3]";break;case "K":s=p2+"[1-9]|1\\d|2[0-4]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_42.am||_41.am||"AM";var pm=_42.pm||_41.pm||"PM";if(_42.strict){s=am+"|"+pm;}else{s=am+"|"+pm;if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_40){_40.push(_44);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};})();(function(){var _45=[];dojo.date.locale.addCustomFormats=function $DBDg_(_46,_47){_45.push({pkg:_46,name:_47});};dojo.date.locale._getGregorianBundle=function $DBDh_(_48){var _49={};dojo.forEach(_45,function(_4a){var _4b=dojo.i18n.getLocalization(_4a.pkg,_4a.name,_48);_49=dojo.mixin(_49,_4b);},this);return _49;};})();dojo.date.locale.addCustomFormats("dojo.cldr","gregorian");dojo.date.locale.getNames=function $DBDi_(_4c,_4d,_4e,_4f){var _50,_51=dojo.date.locale._getGregorianBundle(_4f),_52=[_4c,_4e,_4d];if(_4e=="standAlone"){var key=_52.join("-");_50=_51[key];if(_50[0]==1){_50=undefined;}}_52[1]="format";return (_50||_51[_52.join("-")]).concat();};dojo.date.locale.isWeekend=function $DBDj_(_53,_54){var _55=dojo.cldr.supplemental.getWeekend(_54),day=(_53||new Date()).getDay();if(_55.end<_55.start){_55.end+=7;if(day<_55.start){day+=7;}}return day>=_55.start&&day<=_55.end;};dojo.date.locale._getDayOfYear=function $DBDk_(_56){return dojo.date.difference(new Date(_56.getFullYear(),0,1,_56.getHours()),_56)+1;};dojo.date.locale._getWeekOfYear=function $DBDl_(_57,_58){if(arguments.length==1){_58=0;}var _59=new Date(_57.getFullYear(),0,1).getDay(),adj=(_59-_58+7)%7,_5a=Math.floor((dojo.date.locale._getDayOfYear(_57)+adj-1)/7);if(_59==_58){_5a++;}return _5a;};}