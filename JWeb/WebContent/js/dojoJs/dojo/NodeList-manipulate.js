/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["dojo.NodeList-manipulate"]){dojo._hasResource["dojo.NodeList-manipulate"]=true;dojo.provide("dojo.NodeList-manipulate");(function(){function getText(_1){var _2="",ch=_1.childNodes;for(var i=0,n;n=ch[i];i++){if(n.nodeType!=8){if(n.nodeType==1){_2+=getText(n);}else{_2+=n.nodeValue;}}}return _2;};function getWrapInsertion(_3){while(_3.childNodes[0]&&_3.childNodes[0].nodeType==1){_3=_3.childNodes[0];}return _3;};function makeWrapNode(_4,_5){if(typeof _4=="string"){_4=dojo._toDom(_4,(_5&&_5.ownerDocument));if(_4.nodeType==11){_4=_4.childNodes[0];}}else{if(_4.nodeType==1&&_4.parentNode){_4=_4.cloneNode(false);}}return _4;};dojo.extend(dojo.NodeList,{_placeMultiple:function $DBIA_(_6,_7){var _8=typeof _6=="string"||_6.nodeType?dojo.query(_6):_6;var _9=[];for(var i=0;i<_8.length;i++){var _a=_8[i];var _b=this.length;for(var j=_b-1,_c;_c=this[j];j--){if(i>0){_c=this._cloneNode(_c);_9.unshift(_c);}if(j==_b-1){dojo.place(_c,_a,_7);}else{_a.parentNode.insertBefore(_c,_a);}_a=_c;}}if(_9.length){_9.unshift(0);_9.unshift(this.length-1);Array.prototype.splice.apply(this,_9);}return this;},innerHTML:function $DBIB_(_d){if(arguments.length){return this.addContent(_d,"only");}else{return this[0].innerHTML;}},text:function $DBID_(_e){if(arguments.length){for(var i=0,_f;_f=this[i];i++){if(_f.nodeType==1){dojo.empty(_f);_f.appendChild(_f.ownerDocument.createTextNode(_e));}}return this;}else{var _10="";for(i=0;_f=this[i];i++){_10+=getText(_f);}return _10;}},val:function $DBIE_(_11){if(arguments.length){var _12=dojo.isArray(_11);for(var _13=0,_14;_14=this[_13];_13++){var _15=_14.nodeName.toUpperCase();var _16=_14.type;var _17=_12?_11[_13]:_11;if(_15=="SELECT"){var _18=_14.options;for(var i=0;i<_18.length;i++){var opt=_18[i];if(_14.multiple){opt.selected=(dojo.indexOf(_11,opt.value)!=-1);}else{opt.selected=(opt.value==_17);}}}else{if(_16=="checkbox"||_16=="radio"){_14.checked=(_14.value==_17);}else{_14.value=_17;}}}return this;}else{_14=this[0];if(!_14||_14.nodeType!=1){return undefined;}_11=_14.value||"";if(_14.nodeName.toUpperCase()=="SELECT"&&_14.multiple){_11=[];_18=_14.options;for(i=0;i<_18.length;i++){opt=_18[i];if(opt.selected){_11.push(opt.value);}}if(!_11.length){_11=null;}}return _11;}},append:function $DBIF_(_19){return this.addContent(_19,"last");},appendTo:function $DBIG_(_1a){return this._placeMultiple(_1a,"last");},prepend:function $DBIH_(_1b){return this.addContent(_1b,"first");},prependTo:function $DBII_(_1c){return this._placeMultiple(_1c,"first");},after:function $DBIJ_(_1d){return this.addContent(_1d,"after");},insertAfter:function $DBIK_(_1e){return this._placeMultiple(_1e,"after");},before:function $DBIL_(_1f){return this.addContent(_1f,"before");},insertBefore:function $DBIM_(_20){return this._placeMultiple(_20,"before");},remove:dojo.NodeList.prototype.orphan,wrap:function $DBIO_(_21){if(this[0]){_21=makeWrapNode(_21,this[0]);for(var i=0,_22;_22=this[i];i++){var _23=this._cloneNode(_21);if(_22.parentNode){_22.parentNode.replaceChild(_23,_22);}var _24=getWrapInsertion(_23);_24.appendChild(_22);}}return this;},wrapAll:function $DBIP_(_25){if(this[0]){_25=makeWrapNode(_25,this[0]);this[0].parentNode.replaceChild(_25,this[0]);var _26=getWrapInsertion(_25);for(var i=0,_27;_27=this[i];i++){_26.appendChild(_27);}}return this;},wrapInner:function $DBIQ_(_28){if(this[0]){_28=makeWrapNode(_28,this[0]);for(var i=0;i<this.length;i++){var _29=this._cloneNode(_28);this._wrap(dojo._toArray(this[i].childNodes),null,this._NodeListCtor).wrapAll(_29);}}return this;},replaceWith:function $DBIR_(_2a){_2a=this._normalize(_2a,this[0]);for(var i=0,_2b;_2b=this[i];i++){this._place(_2a,_2b,"before",i>0);_2b.parentNode.removeChild(_2b);}return this;},replaceAll:function $DBIS_(_2c){var nl=dojo.query(_2c);var _2d=this._normalize(this,this[0]);for(var i=0,_2e;_2e=nl[i];i++){this._place(_2d,_2e,"before",i>0);_2e.parentNode.removeChild(_2e);}return this;},clone:function $DBIT_(){var ary=[];for(var i=0;i<this.length;i++){ary.push(this._cloneNode(this[i]));}return this._wrap(ary,this,this._NodeListCtor);}});if(!dojo.NodeList.prototype.html){dojo.NodeList.prototype.html=dojo.NodeList.prototype.innerHTML;}})();}